{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","concat","sent","type","payload","data","stop","this","_x4","apply","arguments","StreamForm","renderInput","_ref","input","label","meta","react_default","createElement","className","assign","autoComplete","_this","renderError","onSubmit","formValues","props","error","_ref2","touched","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread","history","push","_x","_x2","StreamEdit","editStream","match","params","stream","initialValues","_","pick","state","ownProps","_ref4","_callee4","_context4","patch","_x5","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","Link","to","components_Modal","renderContent","renderActions","_ref5","_callee5","_context5","delete","_x6","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","values","_callee2","_context2","_x3","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","_this$props$stream","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","components_GoogleAuth","App","Router","components_Header","Switch","Route","path","exact","INTIAL_STATE","combineReducers","length","undefined","action","formReducer","mapKeys","defineProperty","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.971bdc2f.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n\tbaseURL: 'http://localhost:3001'\r\n});","import createHistory from 'history/createBrowserHistory';\r\n\r\nexport default createHistory();","import streams from '../apis/streams';\r\nimport history from '../history';\r\nimport {\r\n\tCREATE_STREAM,\r\n\tFETCH_STREAMS,\r\n\tFETCH_STREAM,\r\n\tDELETE_STREAM,\r\n\tEDIT_STREAM\r\n} from './types';\r\n\r\nexport const signIn = (userId) => {\r\n\treturn {\r\n\t\ttype: 'SIGN_IN',\r\n\t\tpayload: userId\r\n\t};\r\n};\r\n\r\nexport const signOut = () => {\r\n\treturn {\r\n\t\ttype: 'SIGN_OUT'\r\n\t};\r\n};\r\n\r\nexport const createStream = formValues => async (dispatch, getState) => {\r\n\tconst { userId } = getState().auth;\r\n\tconst response = await streams.post('/streams', {...formValues, userId});\r\n\r\n\tdispatch({ type: CREATE_STREAM, payload: response.data });\r\n\thistory.push('/');\r\n};\r\n\r\nexport const fetchStreams = () => async dispatch => {\r\n\tconst response = await streams.get('/streams');\r\n\r\n\tdispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\n\r\nexport const fetchStream = (id) => async dispatch => {\r\n\tconst response = await streams.get(`/streams/${id}`);\r\n\r\n\tdispatch({type: FETCH_STREAM, payload: response.data});\r\n};\r\n\r\nexport const editStream = (id, formValues) => async dispatch => {\r\n\tconst response = await streams.patch(`/streams/${id}`, formValues);\r\n\r\n\tdispatch({type: EDIT_STREAM, payload: response.data });\r\n\thistory.push('/');\r\n};\r\n\r\nexport const deleteStream = (id) => async dispatch => {\r\n\tawait streams.delete(`/streams/${id}`);\r\n\r\n\tdispatch({ type: DELETE_STREAM, payload: id });\r\n\thistory.push('/');\r\n};","export const CREATE_STREAM = 'CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM ='FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM = 'EDIT_STREAM';\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component{\r\n\trenderError({ error, touched }) {\r\n\t\tif (touched && error ) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"ui error message\">\r\n\t\t\t\t\t<div className=\"header\">{error}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trenderInput = ({input, label, meta}) => {\r\n\t\tconst className = 'field';\r\n\t\treturn (\r\n\t\t\t<div className=\"field\">\r\n\t\t\t\t<label>{label}</label>\r\n\t\t\t\t<input {...input} autoComplete=\"off\" />\r\n\t\t\t\t{this.renderError(meta)}\r\n\t\t\t</div>\r\n\t);\r\n\t}\r\n\r\n\tonSubmit = (formValues) => {\r\n\t\tthis.props.onSubmit(formValues);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui form error\">\r\n\t\t\t\t<Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n\t\t\t\t<Field name=\"description\" component={this.renderInput} label=\"Enter Description\" />\r\n \t\t\t <button className=\"ui button primary\">Submit</button>\r\n \t\t\t</form>\r\n \t\t\t);\r\n\t}\r\n}\r\n\r\nconst validate = formValues => {\r\n\tconst errors = {};\r\n\r\n\tif (!formValues.title){\r\n\t\terrors.title = 'You must enter a title';\r\n\t}\r\n\r\n\tif (!formValues.description){\r\n\t\terrors.description = 'You must enter a description';\r\n\t}\r\n\t\r\n\treturn errors;\r\n}\t\r\nexport default reduxForm({\r\n\tform: 'streamForm',\r\n\tvalidate\r\n})(StreamForm);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamCreate extends React.Component{\r\n\tonSubmit = (formValues) => {\r\n\t\tthis.props.createStream(formValues);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Create a Stream</h3>\r\n\t\t\t\t<StreamForm onSubmit={this.onSubmit} />\r\n\t\t\t</div>\r\n \t\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(null, {createStream})(StreamCreate);","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream, editStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamEdit extends React.Component{\r\n\tcomponentDidMount() {\r\n\t\tthis.props.fetchStream(this.props.match.params.id);\r\n\t}\r\n\r\n\tonSubmit = (formValues)=>{\r\n\t\tthis.props.editStream(this.props.match.params.id, formValues);\r\n\t};\r\n\r\n\trender(){\r\n\t\tif (!this.props.stream) {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Edit a Stream</h3>\r\n\t\t\t\t<StreamForm\r\n\t\t\t\t initialValues={_.pick(this.props.stream, 'title', 'description')}\r\n\t\t\t\t onSubmit={this.onSubmit} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(mapStateToProps, {fetchStream, editStream})(StreamEdit);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport history from '../history';\r\n\r\nconst Modal = props => {\r\n\treturn ReactDOM.createPortal(\r\n\t\t\t<div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\r\n\t\t\t<div onClick={(e) => e.stopPropagation()} className=\"ui standard modal visible active\">\r\n\t\t\t<div className=\"header\">{props.title}</div>\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t{props.content}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"actions\">\r\n\t\t\t\t{props.actions}\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>,\r\n\t\tdocument.querySelector('#modal')\r\n\t\t);\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from '../Modal';\r\nimport history from '../../history';\r\nimport { fetchStream, deleteStream} from '../../actions';\r\n\r\n\r\nclass StreamDelete extends React.Component{\r\n\tcomponentDidMount(){\r\n\t\tthis.props.fetchStream(this.props.match.params.id);\r\n\t}\t\r\n\r\n\trenderActions(){\r\n\tconst id = this.props.match.params.id;\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<button onClick={() => this.props.deleteStream(id)} className=\"ui button negative\">Delete</button>\r\n\t\t\t<Link to=\"/\" className=\"ui button\">Cancel</Link>\r\n\t\t</React.Fragment>\r\n\t\t);\r\n}\r\n\trenderContent() {\r\n\t\tif(!this.props.stream) {\r\n\t\t\treturn 'Are you sure you want to delete this stream?'\r\n\t\t}\r\n\t\treturn `Are you sure you want to delete the stream with title: ${this.props.stream.title}`\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\ttitle=\"Delete Stream\" \r\n\t\t\t\tcontent={this.renderContent()}\r\n\t\t\t\tactions={this.renderActions()}\r\n\t\t\t\tonDismiss={() => history.push('/')}\r\n\t\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn { stream: state.streams[ownProps.match.params.id]}\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(StreamDelete);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStreams } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass StreamList extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.fetchStreams();\r\n\t}\r\n\r\n\trenderAdmin(stream) {\r\n\t\tif (stream.userId === this.props.currentUserId) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"right floated content\">\r\n\t\t\t\t\t<Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\r\n\t\t\t\t\t\tEdit\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to={`/streams/delete/${stream.id}`} className=\"ui button negative\">\r\n\t\t\t\t\tDelete\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trenderList(){\r\n\t\treturn this.props.streams.map(stream=> {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"item\" key={stream.id}>\r\n\t\t\t\t\t{this.renderAdmin(stream)}\r\n\t\t\t\t\t<i className=\"large middle aligned icon camera\"/>\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<Link to={`streams/${stream.id}`} className=\"header\">\r\n\t\t\t\t\t\t{stream.title}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div className=\"description\">{stream.description}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\t\r\n\trenderCreate(){\r\n\t\tif (this.props.isSignedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style={{ textAlign: 'right ' }}>\r\n\t\t\t\t\t<Link to=\"/streams/new\" className=\"ui button primary\">\r\n\t\t\t\t\t\tCreate Stream\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Streams</h2>\r\n\t\t\t\t<div className=\"ui celled list\">{this.renderList()}</div>\r\n\t\t\t\t{this.renderCreate()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tstreams: Object.values(state.streams),\r\n\t\tcurrentUserId: state.auth.userId,\r\n\t\tisSignedIn: state.auth.isSignedIn\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps,{fetchStreams})(StreamList);","import React from 'react';\r\nimport flv from 'flv.js';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream } from '../../actions';\r\n\r\nclass StreamShow extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.videoRef = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { id } = this.props.match.params;\r\n\r\n\t\tthis.props.fetchStream(id);\r\n\t\tthis.buildPlayer();\r\n\t\t}\r\n\tcomponentDidUpdate(){\r\n\t\tthis.buildPlayer();\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.player.destroy();\r\n\t}\r\n\tbuildPlayer() {\r\n\t\tif (this.player || !this.props.stream) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { id } = this.props.match.params;\r\n\r\n\t\tthis.player = flv.createPlayer({\r\n\t\t\ttype: 'flv',\r\n\t\t\turl: `http://localhost:8000/live/${id}.flv`\r\n\t\t});\r\n\t\tthis.player.attachMediaElement(this.videoRef.current);\r\n\t\tthis.player.load();\r\n\t}\r\n\r\n\trender(){\r\n\t\tif (!this.props.stream) {\r\n\t\t\treturn <div>Loading...</div>;\r\n\t\t}\r\n\t\tconst {title, description} = this.props.stream;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<video ref={this.videoRef} style={{ width: '100%'}} controls />\r\n\t\t\t\t<h1>{title}</h1>\r\n\t\t\t\t<h5>{description}</h5>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(mapStateToProps, {fetchStream})(StreamShow);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions';\r\n\r\nclass GoogleAuth extends React.Component {\r\n\tcomponentDidMount(){\r\n\t\twindow.gapi.load('client:auth2', ()=>{\r\n\t\t\twindow.gapi.client.init({\r\n\t\t\t\tclientId:\r\n\t\t\t\t\t'322165703337-en0ijuj1dh8pp1dqpnmela12fajqu12d.apps.googleusercontent.com' ,\r\n\t\t\t\tscope: 'email'\r\n\t\t\t}).then(()=>{\r\n\t\t\t\tthis.auth = window.gapi.auth2.getAuthInstance();\r\n\t\t\t\tthis.onAuthChange(this.auth.isSignedIn.get());\r\n\t\t\t\tthis.auth.isSignedIn.listen(this.onAuthChange);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonAuthChange = (isSignedIn) => {\r\n\t\tif (isSignedIn){\r\n\t\t\tthis.props.signIn(this.auth.currentUser.get().getId());\r\n\t\t} else {\r\n\t\t\tthis.props.signOut();\r\n\t\t}\r\n\t};\r\n\r\n\tonSignInClick = () => {\r\n\t\tthis.auth.signIn();\r\n\t};\r\n\r\n\tonSignOutClick = () => {\r\n\t\tthis.auth.signOut();\r\n\t};\r\n\r\n\trenderAuthButton() {\r\n\t\tif (this.props.isSignedIn === null) {\r\n\t\t\treturn null;\r\n\t\t} else if (this.props.isSignedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n\t\t\t\t\t<i className=\"google icon\" />\r\n\t\t\t\t\tSign Out\r\n\t\t\t\t</button>\r\n\t\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<button onClick={this.onSignInClick} className=\"ui red google button\">\r\n\t\t\t\t\t<i className=\"google icon\" />\r\n\t\t\t\t\tSign In with Google\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn <div>{this.renderAuthButton()}</div>;\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(mapStateToProps,\r\n\t{ signIn, signOut }\r\n\t)(GoogleAuth);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth';\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<div className=\"ui secondary pointing menu\">\r\n\t\t\t<Link to = \"/\" className=\"item\">\r\n\t\t\t\tStreamer\r\n\t\t\t</Link>\r\n\t\t<div className=\"right menu\">\r\n\t\t\t<Link to = \"/\" className=\"item\">\r\n\t\t\t\tAll Streams\r\n\t\t\t</Link>\r\n\t\t\t<GoogleAuth />\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default Header;\r\n\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport StreamCreate from './streams/StreamCreate';\r\nimport StreamEdit from './streams/StreamEdit';\r\nimport StreamDelete from './streams/StreamDelete';\r\nimport StreamList from './streams/StreamList';\r\nimport StreamShow from './streams/StreamShow';\r\nimport Header from './Header';\r\nimport history from '../history';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<div className=\"ui container\">\r\n\t\t\t<Router history={history}>\r\n\t\t\t <div>\r\n\t\t\t \t<Header/>\r\n\t\t\t \t<Switch>\r\n\t\t\t\t \t<Route path=\"/\" exact component={StreamList} />\r\n\t\t\t\t \t<Route path=\"/streams/new\" exact component={StreamCreate} />\r\n\t\t\t\t \t<Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n\t\t\t\t \t<Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\r\n\t\t\t\t \t<Route path=\"/streams/:id\" exact component={StreamShow} />\r\n\t\t\t \t</Switch>\r\n\t\t\t </div>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default App;","const INTIAL_STATE = {\r\n\tisSignedIn: null,\r\n\tuserId: null\r\n};\r\n \r\nexport default (state = INTIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SIGN_IN':\r\n\t\t\treturn { ...state, isSignedIn: true, userId: action.payload };\r\n\t\tcase 'SIGN_OUT':\r\n\t\t\treturn { ...state, isSignedIn: false, userId: null };\r\n\t\tdefault:\r\n\t\t\treturn state;\t\r\n\t}\r\n};","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport streamReducer from './streamReducer';\r\n\r\nexport default combineReducers({\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tstreams: streamReducer\r\n});","import _ from 'lodash';\r\nimport {\r\n\tFETCH_STREAM,\r\n\tFETCH_STREAMS,\r\n\tCREATE_STREAM,\r\n\tEDIT_STREAM,\r\n\tDELETE_STREAM\r\n } from '../actions/types';\r\n\r\n export default (state = {}, action) => {\r\n \tswitch (action.type) {\r\n \t\tcase FETCH_STREAMS:\r\n \t\t\treturn {...state, ..._.mapKeys(action.payload, 'id')};\r\n \t\tcase FETCH_STREAM: \r\n \t\t\treturn {...state, [action.payload.id]: action.payload};\r\n \t\tcase CREATE_STREAM:\r\n \t\t\treturn {...state, [action.payload.id]: action.payload};\r\n \t\tcase EDIT_STREAM: \r\n \t\t\treturn {...state, [action.payload.id]: action.payload};\r\n \t\tcase DELETE_STREAM:\r\n \t\t\treturn _.omit(state, action.payload);\r\n \t\tdefault:\r\n \t\t\treturn state;\r\n \t}\r\n };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n\treducers,\r\n\tcomposeEnhancers(applyMiddleware(reduxThunk))\r\n\t);\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\t document.querySelector('#root'));"],"sourceRoot":""}